# üé® –ê–î–ú–ò–ù-–ü–ê–ù–ï–õ–¨ - –†–£–ö–û–í–û–î–°–¢–í–û –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø

## üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

**Localhost:**
```
http://localhost:8000/admin
```

**–ò–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ (—Ç–µ–ª–µ—Ñ–æ–Ω/–ø–ª–∞–Ω—à–µ—Ç):**
```
http://192.168.0.10:8000/admin
```

### –®–∞–≥ 2: –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É

```
–õ–æ–≥–∏–Ω:   admin
–ü–∞—Ä–æ–ª—å:  admin123
```

‚ö†Ô∏è **–í–ê–ñ–ù–û:** –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ —Å–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –≤ `app/admin.py`!

---

## üìã –ß–¢–û –ú–û–ñ–ù–û –î–ï–õ–ê–¢–¨ –í –ê–î–ú–ò–ù–ö–ï?

### 1Ô∏è‚É£ –£–ü–†–ê–í–õ–ï–ù–ò–ï –ó–ê–Ø–í–ö–ê–ú–ò (Leads)

**–§—É–Ω–∫—Ü–∏–∏:**
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∑–∞—è–≤–æ–∫ –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏, —Ç–µ–ª–µ—Ñ–æ–Ω—É, –≥–æ—Ä–æ–¥—É
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É, –≥–æ—Ä–æ–¥—É, —è–∑—ã–∫—É, –¥–∞—Ç–µ
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ (–∫–ª–∏–∫ ‚Üí –≤—ã–±–æ—Ä ‚Üí —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å)
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∑–∞—è–≤–∫–∏
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–∞—è–≤–æ–∫
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –∫–∞–∂–¥–æ–π –∑–∞—è–≤–∫–∏

**–ö–æ–ª–æ–Ω–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ:**
- ID
- –ò–º—è –∫–ª–∏–µ–Ω—Ç–∞
- –¢–µ–ª–µ—Ñ–æ–Ω (üìû)
- –ì–æ—Ä–æ–¥ (üìç)
- –¢–∏–ø –æ–±—ä–µ–∫—Ç–∞
- –ü–ª–æ—â–∞–¥—å
- –°—Ç–∞—Ç—É—Å (üîµüü°üü¢üî¥)
- –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è

**–°—Ç–∞—Ç—É—Å—ã:**
- üîµ **–ù–æ–≤–∞—è** (new)
- üü° **–í —Ä–∞–±–æ—Ç–µ** (in_progress)
- üü¢ **–£—Å–ø–µ—à–Ω–æ** (done)
- üî¥ **–û—Ç–∫–∞–∑** (cancelled)

---

### 2Ô∏è‚É£ –ü–†–û–°–ú–û–¢–† –ö–õ–ò–ï–ù–¢–û–í (BotUsers)

**–§—É–Ω–∫—Ü–∏–∏:**
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –±–æ—Ç–∞
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏, —Ç–µ–ª–µ—Ñ–æ–Ω—É, user_id
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —è–∑—ã–∫—É, –≤–ª–∞–¥–µ–ª—å—Ü—É
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤

**–ö–æ–ª–æ–Ω–∫–∏:**
- ID
- User ID (–∏–∑ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞)
- –ò–º—è
- –¢–µ–ª–µ—Ñ–æ–Ω
- –Ø–∑—ã–∫
- –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

---

### 3Ô∏è‚É£ –£–ü–†–ê–í–õ–ï–ù–ò–ï –ö–û–ú–ü–ê–ù–ò–Ø–ú–ò (Users)

**–§—É–Ω–∫—Ü–∏–∏:**
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ email, –Ω–∞–∑–≤–∞–Ω–∏—é –∫–æ–º–ø–∞–Ω–∏–∏
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–∏
- ‚úÖ –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è/—É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–π

**–ö–æ–ª–æ–Ω–∫–∏:**
- ID
- Email
- –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏
- –ê–∫—Ç–∏–≤–Ω–∞
- –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

---

## üéØ –¢–ò–ü–ò–ß–ù–´–ï –°–¶–ï–ù–ê–†–ò–ò –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞—è–≤–∫–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ `/admin`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ó–∞—è–≤–∫–∏"
3. –ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω—É—é –∑–∞—è–≤–∫—É (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–∏—Å–∫ –∏–ª–∏ —Ñ–∏–ª—å—Ç—Ä—ã)
4. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–∞—Ä–∞–Ω–¥–∞—à ‚úèÔ∏è (–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å)
5. –ò–∑–º–µ–Ω–∏—Ç–µ —Å—Ç–∞—Ç—É—Å –Ω–∞ "–í —Ä–∞–±–æ—Ç–µ" –∏–ª–∏ "–£—Å–ø–µ—à–Ω–æ"
6. –ù–∞–∂–º–∏—Ç–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"

**–ò–ª–∏:**
- –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∑–∞—è–≤–∫—É ‚Üí –î–µ—Ç–∞–ª–∏ ‚Üí –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å ‚Üí –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–∏—Å–∫ –∑–∞—è–≤–∫–∏ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É

1. –û—Ç–∫—Ä–æ–π—Ç–µ "–ó–∞—è–≤–∫–∏"
2. –í —Å—Ç—Ä–æ–∫–µ –ø–æ–∏—Å–∫–∞ –≤–≤–µ–¥–∏—Ç–µ: `87771234567`
3. –ù–∞–∂–º–∏—Ç–µ Enter
4. –°–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∂–µ—Ç –≤—Å–µ –∑–∞—è–≤–∫–∏ —Å —ç—Ç–∏–º –Ω–æ–º–µ—Ä–æ–º

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –∑–∞—è–≤–æ–∫ –∏–∑ –ê–ª–º–∞—Ç—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ "–ó–∞—è–≤–∫–∏"
2. –ù–∞–∂–º–∏—Ç–µ "–§–∏–ª—å—Ç—Ä—ã" (–∏–∫–æ–Ω–∫–∞ –≤–æ—Ä–æ–Ω–∫–∏)
3. –í—ã–±–µ—Ä–∏—Ç–µ:
   - –°—Ç–∞—Ç—É—Å: "new"
   - –ì–æ—Ä–æ–¥: "–ê–ª–º–∞—Ç—ã"
4. –ù–∞–∂–º–∏—Ç–µ "–ü—Ä–∏–º–µ–Ω–∏—Ç—å"

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –£–¥–∞–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–∞—è–≤–æ–∫

1. –û—Ç–∫—Ä–æ–π—Ç–µ "–ó–∞—è–≤–∫–∏"
2. –ù–∞–π–¥–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é –∑–∞—è–≤–∫—É
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–æ—Ä–∑–∏–Ω—É üóëÔ∏è (–£–¥–∞–ª–∏—Ç—å)
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —É–¥–∞–ª–µ–Ω–∏–µ

‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ!

---

## üîç –ü–û–ò–°–ö –ò –§–ò–õ–¨–¢–†–ê–¶–ò–Ø

### –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è –∑–∞—è–≤–æ–∫:

**–ü–æ —Å—Ç–∞—Ç—É—Å—É:**
- –ù–æ–≤–∞—è
- –í —Ä–∞–±–æ—Ç–µ
- –£—Å–ø–µ—à–Ω–æ
- –û—Ç–∫–∞–∑

**–ü–æ –≥–æ—Ä–æ–¥—É:**
- –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–ê–ª–º–∞—Ç—ã")

**–ü–æ —è–∑—ã–∫—É:**
- ru (–†—É—Å—Å–∫–∏–π)
- kk (–ö–∞–∑–∞—Ö—Å–∫–∏–π)

**–ü–æ –¥–∞—Ç–µ:**
- –í—ã–±–µ—Ä–∏—Ç–µ –¥–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç —Å–æ–∑–¥–∞–Ω–∏—è

**–ü–æ –≤–ª–∞–¥–µ–ª—å—Ü—É (owner_id):**
- –§–∏–ª—å—Ç—Ä –ø–æ ID –∫–æ–º–ø–∞–Ω–∏–∏

---

### –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –ø–æ–ª—è–º:

**–ó–∞—è–≤–∫–∏:**
- –ò–º—è –∫–ª–∏–µ–Ω—Ç–∞
- –¢–µ–ª–µ—Ñ–æ–Ω
- –ì–æ—Ä–æ–¥
- –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ (summary)

**–ö–ª–∏–µ–Ω—Ç—ã:**
- –ò–º—è
- –¢–µ–ª–µ—Ñ–æ–Ω
- User ID

**–ö–æ–º–ø–∞–Ω–∏–∏:**
- Email
- –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏

---

## üé® –ò–ù–¢–ï–†–§–ï–ô–° –ê–î–ú–ò–ù–ö–ò

### –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é (—Å–ª–µ–≤–∞):

```
üìã –ó–∞—è–≤–∫–∏        ‚Üê –û—Å–Ω–æ–≤–Ω–æ–π —Ä–∞–∑–¥–µ–ª
üë§ –ö–ª–∏–µ–Ω—Ç—ã       ‚Üê –í—Å–µ –∫–ª–∏–µ–Ω—Ç—ã –±–æ—Ç–∞
üè¢ –ö–æ–º–ø–∞–Ω–∏–∏      ‚Üê –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏
```

### –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π:

- **üëÅÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä** - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å** - –ò–∑–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
- **üóëÔ∏è –£–¥–∞–ª–∏—Ç—å** - –£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å
- **‚ûï –°–æ–∑–¥–∞—Ç—å** - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å (–æ—Ç–∫–ª—é—á–µ–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)

### –ü–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:

- **üîç –ü–æ–∏—Å–∫** - –ü–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–º –ø–æ–ª—è–º
- **üîΩ –§–∏–ª—å—Ç—Ä—ã** - –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
- **üìä –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞** - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –ª—é–±–æ–π –∫–æ–ª–æ–Ω–∫–µ (–∫–ª–∏–∫ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫)
- **üîÑ –û–±–Ω–æ–≤–∏—Ç—å** - –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ

---

## üîí –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:

- ‚úÖ **Basic Auth** –¥–ª—è –≤—Ö–æ–¥–∞
- ‚úÖ **–°–µ—Å—Å–∏–∏** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π logout –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- ‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞**

### –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:

```python
Login:    admin
Password: admin123
```

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:

**–ò–∑–º–µ–Ω–∏—Ç–µ –≤ `app/admin.py`:**

```python
class AdminAuth(AuthenticationBackend):
    async def login(self, request: Request) -> bool:
        form = await request.form()
        username = form.get("username")
        password = form.get("password")
        
        # –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è!
        import os
        ADMIN_USERNAME = os.getenv("ADMIN_USERNAME", "admin")
        ADMIN_PASSWORD = os.getenv("ADMIN_PASSWORD", "admin123")
        
        if username == ADMIN_USERNAME and password == ADMIN_PASSWORD:
            request.session.update({"admin": "authenticated"})
            return True
        
        return False
```

**–î–æ–±–∞–≤—å—Ç–µ –≤ `.env`:**
```env
ADMIN_USERNAME=your_admin_login
ADMIN_PASSWORD=your_secure_password_here
```

---

## üì± –ú–û–ë–ò–õ–¨–ù–´–ô –î–û–°–¢–£–ü

–ê–¥–º–∏–Ω–∫–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤!

**–û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ:**
```
http://192.168.0.10:8000/admin
```

**–†–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–æ–∫
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤
- ‚úÖ –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫

**–û—Ç–∑—ã–≤—á–∏–≤—ã–π –¥–∏–∑–∞–π–Ω:**
- –¢–∞–±–ª–∏—Ü—ã –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ–¥ —ç–∫—Ä–∞–Ω
- –£–¥–æ–±–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –ø–∞–ª—å—Ü–µ–≤
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è

---

## üéì –°–û–í–ï–¢–´ –ü–û –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

### 1. –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏:

- `Ctrl + S` - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è (–≤ —Ñ–æ—Ä–º–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- `Esc` - –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
- `Enter` - –ü–æ–∏—Å–∫ / –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä

### 2. –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:

–ü–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã, –Ω–æ –º–æ–∂–Ω–æ:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API –¥–ª—è –º–∞—Å—Å–æ–≤—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ CSV (–±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ)

### 3. –ë—ã—Å—Ç—Ä–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è:

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–∏—Å–∫ –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∑–∞—è–≤–æ–∫
- –°–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ø–æ –¥–∞—Ç–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –Ω–æ–≤—ã—Ö –∑–∞—è–≤–æ–∫
- –§–∏–ª—å—Ç—Ä—É–π—Ç–µ –ø–æ —Å—Ç–∞—Ç—É—Å—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –∑–∞—è–≤–∫–∞–º–∏

### 4. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:

- –ê–¥–º–∏–Ω–∫–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç–∞–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü
- –ò–Ω–¥–µ–∫—Å—ã –≤ –ë–î –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞

---

## üêõ –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ –º–æ–≥—É –≤–æ–π—Ç–∏ –≤ –∞–¥–º–∏–Ω–∫—É

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å (admin/admin123)
2. –û—á–∏—Å—Ç–∏—Ç–µ cookies –±—Ä–∞—É–∑–µ—Ä–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ SessionMiddleware —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ –≤–∏–∂—É –∑–∞—è–≤–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∑–∞—è–≤–∫–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –ë–î
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã (–≤–æ–∑–º–æ–∂–Ω–æ –æ–Ω–∏ –∞–∫—Ç–∏–≤–Ω—ã)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ –º–æ–≥—É –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—ã –≤–æ—à–ª–∏ –≤ —Å–∏—Å—Ç–µ–º—É
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (`can_edit = True`)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∑–∞–π—Ç–∏ –≤ –∞–¥–º–∏–Ω–∫—É

---

## üìä –°–†–ê–í–ù–ï–ù–ò–ï: SWAGGER VS ADMIN

| –§—É–Ω–∫—Ü–∏—è | Swagger UI | Admin Panel |
|---------|-----------|-------------|
| –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–æ–∫ | ‚ùå JSON —Ñ–æ—Ä–º–∞—Ç | ‚úÖ –ö—Ä–∞—Å–∏–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ |
| –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ | ‚ö†Ô∏è –í—Ä—É—á–Ω—É—é (JSON) | ‚úÖ –ö–ª–∏–∫ –º—ã—à–∫–æ–π |
| –ü–æ–∏—Å–∫ | ‚ùå –ù–µ—Ç | ‚úÖ –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π |
| –§–∏–ª—å—Ç—Ä—ã | ‚ùå –ù–µ—Ç | ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ |
| –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è | ‚ö†Ô∏è –ù–µ —É–¥–æ–±–Ω–æ | ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è |
| –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è | ‚ùå JWT —Ç–æ–∫–µ–Ω | ‚úÖ Login/Password |
| UX | üòê –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ | üòç –î–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ |

---

---

## üîê BuildCRM PWA: API –∞–¥–º–∏–Ω–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

–î–ª—è PWA BuildCRM (—Å—Ç—Ä–∞–Ω–∏—Ü—ã `/admin/login`, `/admin/users`) –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –ø–æ–¥ –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `/api/admin`. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è ‚Äî —Ç–æ—Ç –∂–µ Bearer token, —á—Ç–æ –∏ –¥–ª—è `/api/leads` (POST `/api/auth/login`).

### –ö—Ç–æ —Å—á–∏—Ç–∞–µ—Ç—Å—è –∞–¥–º–∏–Ω–æ–º

- **–í–∞—Ä–∏–∞–Ω—Ç A:** —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î –ø–æ–ª–µ `is_admin = true`.
- **–í–∞—Ä–∏–∞–Ω—Ç B (—Å—É–ø–µ—Ä–∞–¥–º–∏–Ω –±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–∏):** –≤ env –∑–∞–¥–∞–Ω `ADMIN_EMAILS` ‚Äî —Å–ø–∏—Å–æ–∫ email —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é. –≠—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è –∞–¥–º–∏–Ω–∞–º–∏ –¥–∞–∂–µ –±–µ–∑ `is_admin` –≤ –ë–î.

### –í–∫–ª—é—á–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∫–∏ –Ω–∞ Render

1. **Environment —Å–µ—Ä–≤–∏—Å–∞ `crm-api`:**
   - –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é **`ADMIN_EMAILS`** –∏ —É–∫–∞–∂–∏—Ç–µ email —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä:
     ```
     ADMIN_EMAILS=kana.bahytzhan@gmail.com
     ```
   - –õ–æ–≥–∏–Ω –≤ PWA –ø–æ–¥ —ç—Ç–∏–º email –¥–∞—ë—Ç –¥–æ—Å—Ç—É–ø –∫ `/api/admin/*`.

2. **–ï—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å —Ç–∞–±–ª–∏—Ü–∞ `users` –±–µ–∑ –∫–æ–ª–æ–Ω–∫–∏ `is_admin`:**
   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ –ë–î (Supabase/Render PostgreSQL):
     ```sql
     ALTER TABLE users ADD COLUMN IF NOT EXISTS is_admin BOOLEAN DEFAULT FALSE;
     ```
   - –ß—Ç–æ–±—ã –Ω–∞–∑–Ω–∞—á–∏—Ç—å –∞–¥–º–∏–Ω–∞ –ø–æ –ë–î:
     ```sql
     UPDATE users SET is_admin = true WHERE email = 'kana.bahytzhan@gmail.com';
     ```
   - –õ–∏–±–æ –ø—Ä–æ—Å—Ç–æ –∑–∞–¥–∞–π—Ç–µ `ADMIN_EMAILS` (–ø.1) ‚Äî —Ç–æ–≥–¥–∞ –º–∏–≥—Ä–∞—Ü–∏—è –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞.

### –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|----------|
| GET | `/api/admin/users` | –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–±–µ–∑ –ø–∞—Ä–æ–ª–µ–π). –¢—Ä–µ–±—É–µ—Ç –∞–¥–º–∏–Ω–∞. |
| POST | `/api/admin/users` | –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (email, password, company_name). 409 –µ—Å–ª–∏ email –∑–∞–Ω—è—Ç. |
| PATCH | `/api/admin/users/{id}` | –û–±–Ω–æ–≤–∏—Ç—å is_active, company_name, is_admin. |
| POST | `/api/admin/users/{id}/reset-password` | –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è (body: `{"password": "newpass"}`). |

–û—Ç–≤–µ—Ç—ã: 401 (–Ω–µ—Ç/–Ω–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω), 403 (–Ω–µ –∞–¥–º–∏–Ω), 404 (user not found), 409 (email already exists).

---

## ‚úÖ –ò–¢–û–ì

**–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

**URL:** http://192.168.0.10:8000/admin

**–õ–æ–≥–∏–Ω:** admin  
**–ü–∞—Ä–æ–ª—å:** admin123

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∞–º–∏ (—Å—Ç–∞—Ç—É—Å—ã, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ)
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏—è–º–∏
- ‚úÖ –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- ‚úÖ –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (Basic Auth)

**–¢–µ–ø–µ—Ä—å —É–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞—è–≤–∫–∞–º–∏ –º–æ–∂–Ω–æ –º—ã—à–∫–æ–π, –∞ –Ω–µ —á–µ—Ä–µ–∑ JSON! üéâ**
