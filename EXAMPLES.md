# üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## üìù –ü—Ä–∏–º–µ—Ä—ã –¥–∏–∞–ª–æ–≥–æ–≤

### –ü—Ä–∏–º–µ—Ä 1: –£—Å–ø–µ—à–Ω–∞—è –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è (–†—É—Å—Å–∫–∏–π)

```
üë§ –ö–ª–∏–µ–Ω—Ç: –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ

ü§ñ –ê–ª–∏—è: –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ú–µ–Ω—è –∑–æ–≤—É—Ç –ê–ª–∏—è, —è –º–µ–Ω–µ–¥–∂–µ—Ä —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–º–ø–∞–Ω–∏–∏. 
–ü–æ–¥—Å–∫–∞–∂–∏—Ç–µ, –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ –¥–æ–º–∞?

üë§ –ö–ª–∏–µ–Ω—Ç: –î–∞, —Ö–æ—á—É –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –¥–æ–º

ü§ñ –ê–ª–∏—è: –û—Ç–ª–∏—á–Ω–æ! –ü–æ–¥—Å–∫–∞–∂–∏—Ç–µ, —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å —É—á–∞—Å—Ç–æ–∫ –ø–æ–¥ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ? 
–ï—Å–ª–∏ –¥–∞, —Ç–æ –≥–¥–µ –æ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è?

üë§ –ö–ª–∏–µ–Ω—Ç: –î–∞, –µ—Å—Ç—å —É—á–∞—Å—Ç–æ–∫ –≤ –ø—Ä–∏–≥–æ—Ä–æ–¥–µ –ê–ª–º–∞—Ç—ã

ü§ñ –ê–ª–∏—è: –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ! –ö–∞–∫–∞—è –ø—Ä–∏–º–µ—Ä–Ω–∞—è –ø–ª–æ—â–∞–¥—å –¥–æ–º–∞ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç?

üë§ –ö–ª–∏–µ–Ω—Ç: –û–∫–æ–ª–æ 150 –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö –º–µ—Ç—Ä–æ–≤

ü§ñ –ê–ª–∏—è: –•–æ—Ä–æ—à–∏–π —Ä–∞–∑–º–µ—Ä! –ê –∫–æ–≥–¥–∞ –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –Ω–∞—á–∞—Ç—å —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ?

üë§ –ö–ª–∏–µ–Ω—Ç: –•–æ—Ç–µ–ª –±—ã –Ω–∞—á–∞—Ç—å —ç—Ç–æ–π –≤–µ—Å–Ω–æ–π

ü§ñ –ê–ª–∏—è: –ü–æ–Ω—è—Ç–Ω–æ. –ê –∫–∞–∫–æ–π –±—é–¥–∂–µ—Ç –≤—ã —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç–µ –Ω–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ? 
–•–æ—Ç—è –±—ã –ø—Ä–∏–º–µ—Ä–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω.

üë§ –ö–ª–∏–µ–Ω—Ç: –î—É–º–∞—é, –æ–∫–æ–ª–æ 30 –º–∏–ª–ª–∏–æ–Ω–æ–≤ —Ç–µ–Ω–≥–µ

ü§ñ –ê–ª–∏—è: –°–ø–∞—Å–∏–±–æ –∑–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é! –¢–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –±—É–¥–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤, 
–ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∏ –∏ –¥—Ä—É–≥–∏—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤. –ü—Ä–µ–¥–ª–∞–≥–∞—é –∑–∞–ø–∏—Å–∞—Ç—å –≤–∞—Å –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—É—é –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é 
—Å –Ω–∞—à–∏–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–æ–º - –æ–Ω –ø–æ–¥—Ä–æ–±–Ω–æ –≤—Å—ë —Ä–∞—Å—Å—á–∏—Ç–∞–µ—Ç. –≠—Ç–æ –Ω–∏ –∫ —á–µ–º—É –Ω–µ –æ–±—è–∑—ã–≤–∞–µ—Ç. 
–ö–∞–∫ –≤–∞—Å –∑–æ–≤—É—Ç –∏ –Ω–∞ –∫–∞–∫–æ–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —Å –≤–∞–º–∏ —Å–≤—è–∑–∞—Ç—å—Å—è?

üë§ –ö–ª–∏–µ–Ω—Ç: –ú–µ–Ω—è –∑–æ–≤—É—Ç –ê–ª–µ–∫—Å–µ–π, —Ç–µ–ª–µ—Ñ–æ–Ω +77001234567

ü§ñ –ê–ª–∏—è: –°–ø–∞—Å–∏–±–æ, –ê–ª–µ–∫—Å–µ–π! –í–∞—à–∞ –∑–∞—è–≤–∫–∞ –ø—Ä–∏–Ω—è—Ç–∞. –ù–∞—à –º–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ 
–ø–æ –Ω–æ–º–µ—Ä—É +77001234567 –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è. –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –∏ –Ω–∏ –∫ —á–µ–º—É 
–Ω–µ –æ–±—è–∑—ã–≤–∞–µ—Ç! üòä

[‚úÖ –õ–ò–î –°–û–ó–î–ê–ù]
```

---

### –ü—Ä–∏–º–µ—Ä 2: –†–∞–±–æ—Ç–∞ —Å –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è–º–∏

```
üë§ –ö–ª–∏–µ–Ω—Ç: –°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –¥–æ–º 100 –º¬≤?

ü§ñ –ê–ª–∏—è: –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –°—Ç–æ–∏–º–æ—Å—Ç—å —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Ñ–∞–∫—Ç–æ—Ä–æ–≤: 
–≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤, —Ç–∏–ø–∞ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞, —É—á–∞—Å—Ç–∫–∞, –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã—Ö –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–π. 
–†–∞–∑–±—Ä–æ—Å –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç 15 –¥–æ 40 –º–∏–ª–ª–∏–æ–Ω–æ–≤ —Ç–µ–Ω–≥–µ –∑–∞ 100 –º¬≤. –ß—Ç–æ–±—ã –¥–∞—Ç—å —Ç–æ—á–Ω—É—é 
—Ü–∏—Ñ—Ä—É, –Ω—É–∂–Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è. –£ –≤–∞—Å —É–∂–µ –µ—Å—Ç—å —É—á–∞—Å—Ç–æ–∫?

üë§ –ö–ª–∏–µ–Ω—Ç: –≠—Ç–æ –¥–æ—Ä–æ–≥–æ. –£ —Å–æ—Å–µ–¥–µ–π –¥–µ—à–µ–≤–ª–µ –¥–µ–ª–∞–ª–∏

ü§ñ –ê–ª–∏—è: –ü–æ–Ω–∏–º–∞—é –≤–∞—à–∏ –æ–ø–∞—Å–µ–Ω–∏—è! –¶–µ–Ω–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è. –£ –Ω–∞—Å –µ—Å—Ç—å 
—Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã: –æ—Ç —ç–∫–æ–Ω–æ–º –¥–æ –ø—Ä–µ–º–∏—É–º –∫–ª–∞—Å—Å–∞. –ú—ã —Ä–∞–±–æ—Ç–∞–µ–º —Å –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏ —Ä–∞–∑–Ω–æ–π 
—Ü–µ–Ω–æ–≤–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏. –¢–∞–∫–∂–µ –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º —Ä–∞—Å—Å—Ä–æ—á–∫—É. –ù–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä –ø–æ–∫–∞–∂–µ—Ç 
–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –≤ –≤–∞—à–µ–º –±—é–¥–∂–µ—Ç–µ. –ö–∞–∫–æ–π –±—é–¥–∂–µ—Ç –≤—ã —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç–µ?

üë§ –ö–ª–∏–µ–Ω—Ç: –ù—É –º–∞–∫—Å–∏–º—É–º 20 –º–∏–ª–ª–∏–æ–Ω–æ–≤

ü§ñ –ê–ª–∏—è: –í —ç—Ç–æ—Ç –±—é–¥–∂–µ—Ç –º–æ–∂–µ–º —É–ª–æ–∂–∏—Ç—å—Å—è, –µ—Å–ª–∏ –≥—Ä–∞–º–æ—Ç–Ω–æ –ø–æ–¥–æ–π—Ç–∏ –∫ –≤—ã–±–æ—Ä—É –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤. 
–£ –Ω–∞—Å –µ—Å—Ç—å –≥–æ—Ç–æ–≤—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ –±—é–¥–∂–µ—Ç—ã. –ü—Ä–µ–¥–ª–∞–≥–∞—é –∑–∞–ø–∏—Å–∞—Ç—å –≤–∞—Å –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é 
- –ø–æ–∫–∞–∂–µ–º —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã, —Å–º–µ—Ç—É, —Å—Ä–æ–∫–∏. –ö–∞–∫ –≤–∞—Å –∑–æ–≤—É—Ç?

[... –¥–∞–ª–µ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤]
```

---

### –ü—Ä–∏–º–µ—Ä 3: –î–∏–∞–ª–æ–≥ –Ω–∞ –∫–∞–∑–∞—Ö—Å–∫–æ–º —è–∑—ã–∫–µ

```
üë§ –ö–ª–∏–µ–Ω—Ç: –°”ô–ª–µ–º–µ—Ç—Å—ñ–∑ –±–µ

ü§ñ –ê–ª–∏—è: –°”ô–ª–µ–º–µ—Ç—Å—ñ–∑ –±–µ! –ú–µ–Ω—ñ“£ –∞—Ç—ã–º –ê–ª–∏—è, –º–µ–Ω “õ“±—Ä—ã–ª—ã—Å –∫–æ–º–ø–∞–Ω–∏—è—Å—ã–Ω—ã“£ –º–µ–Ω–µ–¥–∂–µ—Ä—ñ–º—ñ–Ω. 
–ê–π—Ç—ã“£—ã–∑—à—ã, —Å—ñ–∑ “Ø–π —Å–∞–ª—É–¥—ã –∂–æ—Å–ø–∞—Ä–ª–∞–ø –æ—Ç—ã—Ä—Å—ã–∑ –±–∞?

üë§ –ö–ª–∏–µ–Ω—Ç: –ò”ô, “Ø–π —Å–∞–ª“ì—ã–º –∫–µ–ª–µ–¥—ñ

ü§ñ –ê–ª–∏—è: –¢–∞–º–∞—à–∞! –ê–π—Ç—ã“£—ã–∑—à—ã, —Å—ñ–∑–¥–µ “õ“±—Ä—ã–ª—ã—Å“õ–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω –∂–µ—Ä —Ç–µ–ª—ñ–º—ñ –±–∞—Ä –º–∞? 
–ï–≥–µ—Ä –±–∞—Ä –±–æ–ª—Å–∞, –æ–ª “õ–∞–π–¥–∞ –æ—Ä–Ω–∞–ª–∞—Å“õ–∞–Ω?

üë§ –ö–ª–∏–µ–Ω—Ç: –ë–∞—Ä, –ê–ª–º–∞—Ç—ã –º–∞“£—ã–Ω–¥–∞

ü§ñ –ê–ª–∏—è: ”®—Ç–µ –∂–∞“õ—Å—ã! –°—ñ–∑–¥—ñ “õ–∞–Ω–¥–∞–π “Ø–π –∞—É–¥–∞–Ω—ã “õ—ã–∑—ã“õ—Ç—ã—Ä–∞–¥—ã? –®–∞–º–∞–º–µ–Ω –Ω–µ—à–µ —à–∞—Ä—à—ã –º–µ—Ç—Ä?

[... –¥–∏–∞–ª–æ–≥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –Ω–∞ –∫–∞–∑–∞—Ö—Å–∫–æ–º]
```

---

### –ü—Ä–∏–º–µ—Ä 4: –°–º–µ—à–∞–Ω–Ω—ã–π —è–∑—ã–∫ (–∫–æ–¥-–º–∏–∫—Å)

```
üë§ –ö–ª–∏–µ–Ω—Ç: –ü—Ä–∏–≤–µ—Ç, “Ø–π —Å–∞–ª“ì—ã–º –∫–µ–ª–µ–¥—ñ

ü§ñ –ê–ª–∏—è: –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –≠—Ç–æ –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ. –£ –≤–∞—Å –∂–µ—Ä —Ç–µ–ª—ñ–º—ñ –±–∞—Ä –º–∞?

üë§ –ö–ª–∏–µ–Ω—Ç: –î–∞, –µ—Å—Ç—å –≤ –ø—Ä–∏–≥–æ—Ä–æ–¥–µ. 150 —à–∞—Ä—à—ã –º–µ—Ç—Ä “Ø–π –∫–µ—Ä–µ–∫

ü§ñ –ê–ª–∏—è: –•–æ—Ä–æ—à–∏–π —Ä–∞–∑–º–µ—Ä! –ö–æ–≥–¥–∞ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –Ω–∞—á–∞—Ç—å “õ“±—Ä—ã–ª—ã—Å—Ç—ã?

[–ë–æ—Ç –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø–æ–¥ —è–∑—ã–∫ –∫–ª–∏–µ–Ω—Ç–∞]
```

---

## üîå –ü—Ä–∏–º–µ—Ä—ã API –∑–∞–ø—Ä–æ—Å–æ–≤

### cURL

#### –¢–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
```bash
curl -X POST "http://localhost:8000/api/chat" \
  -F "user_id=test_user_1" \
  -F "message_text=–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, —Ö–æ—á—É –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –¥–æ–º"
```

#### –ê—É–¥–∏–æ —Ñ–∞–π–ª
```bash
curl -X POST "http://localhost:8000/api/chat" \
  -F "user_id=test_user_2" \
  -F "audio_file=@voice_message.ogg"
```

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏
```bash
curl -X GET "http://localhost:8000/api/user/test_user_1/history"
```

---

### Python (requests)

```python
import requests

# –¢–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
response = requests.post(
    "http://localhost:8000/api/chat",
    data={
        "user_id": "python_user_1",
        "message_text": "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ!"
    }
)
print(response.json()["response"])

# –ê—É–¥–∏–æ —Ñ–∞–π–ª
with open("audio.ogg", "rb") as audio:
    response = requests.post(
        "http://localhost:8000/api/chat",
        data={"user_id": "python_user_2"},
        files={"audio_file": audio}
    )
print(response.json()["response"])

# –ò—Å—Ç–æ—Ä–∏—è
response = requests.get("http://localhost:8000/api/user/python_user_1/history")
messages = response.json()["messages"]
for msg in messages:
    role = "üë§" if msg["role"] == "user" else "ü§ñ"
    print(f"{role} {msg['content']}")
```

---

### JavaScript (fetch)

```javascript
// –¢–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
const formData = new FormData();
formData.append('user_id', 'js_user_1');
formData.append('message_text', '–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ!');

fetch('http://localhost:8000/api/chat', {
  method: 'POST',
  body: formData
})
.then(res => res.json())
.then(data => console.log(data.response));

// –ê—É–¥–∏–æ —Ñ–∞–π–ª
const audioInput = document.querySelector('#audioFile');
const formData = new FormData();
formData.append('user_id', 'js_user_2');
formData.append('audio_file', audioInput.files[0]);

fetch('http://localhost:8000/api/chat', {
  method: 'POST',
  body: formData
})
.then(res => res.json())
.then(data => console.log(data.response));
```

---

## üì± –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞–º–∏

### Telegram Bot (–ø—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –±–æ—Ç–∞)

```python
from aiogram import Bot, Dispatcher, types
from aiogram.filters import Command
import requests

bot = Bot(token="YOUR_CLIENT_BOT_TOKEN")
dp = Dispatcher()

@dp.message(Command("start"))
async def cmd_start(message: types.Message):
    await message.answer("–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø –ø–æ–º–æ–≥—É –≤–∞–º —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏ –æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–µ.")

@dp.message()
async def handle_message(message: types.Message):
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ API
    response = requests.post(
        "http://localhost:8000/api/chat",
        data={
            "user_id": str(message.from_user.id),
            "message_text": message.text
        }
    )
    
    result = response.json()
    await message.answer(result["response"])

if __name__ == "__main__":
    dp.run_polling(bot)
```

### WhatsApp (–±—É–¥—É—â–µ–µ)

```python
# –ü—Ä–∏–º–µ—Ä —Å Twilio WhatsApp API
from twilio.rest import Client
import requests

def handle_whatsapp_message(from_number, message_text):
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ API
    response = requests.post(
        "http://localhost:8000/api/chat",
        data={
            "user_id": from_number,
            "message_text": message_text
        }
    )
    
    result = response.json()
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ WhatsApp
    client = Client(account_sid, auth_token)
    client.messages.create(
        from_='whatsapp:+14155238886',
        body=result["response"],
        to=f'whatsapp:{from_number}'
    )
```

---

## üéõÔ∏è –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã —Å Telegram Admin Bot

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–º –ª–∏–¥–µ

```
üî• –ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞!

üë§ –ò–º—è: –ê–ª–µ–∫—Å–µ–π –ò–≤–∞–Ω–æ–≤
üìû –¢–µ–ª–µ—Ñ–æ–Ω: +77001234567
üìù –ó–∞–ø—Ä–æ—Å:
–ö–ª–∏–µ–Ω—Ç –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç—Å—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ–º –¥–æ–º–∞ –ø–ª–æ—â–∞–¥—å—é 150 –º¬≤. 
–£—á–∞—Å—Ç–æ–∫ –µ—Å—Ç—å –≤ –ø—Ä–∏–≥–æ—Ä–æ–¥–µ –ê–ª–º–∞—Ç—ã. –ü–ª–∞–Ω–∏—Ä—É–µ—Ç –Ω–∞—á–∞—Ç—å –≤–µ—Å–Ω–æ–π. 
–ë—é–¥–∂–µ—Ç –æ–∫–æ–ª–æ 30 –º–∏–ª–ª–∏–æ–Ω–æ–≤ —Ç–µ–Ω–≥–µ.

üåê –Ø–∑—ã–∫: –†—É—Å—Å–∫–∏–π
üÜî ID –∑–∞—è–≤–∫–∏: #42

[üìû –í–∑—è–ª –≤ —Ä–∞–±–æ—Ç—É] [‚úÖ –ö–ª–∏–µ–Ω—Ç –∑–∞–∫—Ä—ã—Ç] [‚ùå –û—Ç–∫–∞–∑]
```

### –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è "–í–∑—è–ª –≤ —Ä–∞–±–æ—Ç—É"

```
üìû –ó–∞—è–≤–∫–∞: –í —Ä–∞–±–æ—Ç–µ

üë§ –ò–º—è: –ê–ª–µ–∫—Å–µ–π –ò–≤–∞–Ω–æ–≤
üìû –¢–µ–ª–µ—Ñ–æ–Ω: +77001234567
üìù –ó–∞–ø—Ä–æ—Å:
–ö–ª–∏–µ–Ω—Ç –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç—Å—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ–º –¥–æ–º–∞ –ø–ª–æ—â–∞–¥—å—é 150 –º¬≤. 
–£—á–∞—Å—Ç–æ–∫ –µ—Å—Ç—å –≤ –ø—Ä–∏–≥–æ—Ä–æ–¥–µ –ê–ª–º–∞—Ç—ã. –ü–ª–∞–Ω–∏—Ä—É–µ—Ç –Ω–∞—á–∞—Ç—å –≤–µ—Å–Ω–æ–π. 
–ë—é–¥–∂–µ—Ç –æ–∫–æ–ª–æ 30 –º–∏–ª–ª–∏–æ–Ω–æ–≤ —Ç–µ–Ω–≥–µ.

üåê –Ø–∑—ã–∫: –†—É—Å—Å–∫–∏–π
üÜî ID –∑–∞—è–≤–∫–∏: #42

üë®‚Äçüíº –û–±—Ä–∞–±–æ—Ç–∞–ª: –°–µ—Ä–≥–µ–π
```

---

## üìä –ü—Ä–∏–º–µ—Ä—ã SQL –∑–∞–ø—Ä–æ—Å–æ–≤

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –Ω–µ–∑–∞–∫—Ä—ã—Ç—ã–µ –ª–∏–¥—ã
```sql
SELECT * FROM leads 
WHERE status IN ('new', 'in_progress') 
ORDER BY created_at DESC;
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ª–∏–¥–∞–º
```sql
SELECT 
    status,
    COUNT(*) as count,
    AVG(JULIANDAY(updated_at) - JULIANDAY(created_at)) as avg_days
FROM leads
GROUP BY status;
```

### –¢–æ–ø –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
```sql
SELECT 
    u.user_id,
    u.name,
    COUNT(m.id) as message_count,
    COUNT(DISTINCT l.id) as leads_count
FROM users u
LEFT JOIN messages m ON u.id = m.user_id
LEFT JOIN leads l ON u.id = l.user_id
GROUP BY u.id
ORDER BY message_count DESC
LIMIT 10;
```

---

## üß™ –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ë—ã—Å—Ç—Ä–∞—è –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è
**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å –≥–æ—Ç–æ–≤—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º

```python
messages = [
    "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, —Ö–æ—á—É –¥–æ–º 200 –º¬≤, —É—á–∞—Å—Ç–æ–∫ –µ—Å—Ç—å, –±—é–¥–∂–µ—Ç 40 –º–ª–Ω",
    "–î–∞, —Ö–æ—á—É –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é. –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤, +77771234567"
]
# –û–∂–∏–¥–∞–µ—Ç—Å—è: –õ–∏–¥ —Å–æ–∑–¥–∞–Ω –∑–∞ 2 —Å–æ–æ–±—â–µ–Ω–∏—è
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –†–∞–±–æ—Ç–∞ —Å –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è–º–∏
**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ–º–Ω–µ–Ω–∏–π

```python
messages = [
    "–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –¥–æ–º?",
    "–≠—Ç–æ –¥–æ—Ä–æ–≥–æ",
    "–ê –¥–µ—à–µ–≤–ª–µ –Ω–∏–∫–∞–∫?",
    "–õ–∞–¥–Ω–æ, –∑–∞–ø–∏—à–∏—Ç–µ –º–µ–Ω—è"
]
# –û–∂–∏–¥–∞–µ—Ç—Å—è: –ë–æ—Ç —É–±–µ–∂–¥–∞–µ—Ç –∏ –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–Ω—Ç–∞–∫—Ç—ã
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ö–∞–∑–∞—Ö—Å–∫–∏–π —è–∑—ã–∫
**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∏–ª–∏–Ω–≥–≤–∞–ª—å–Ω–æ—Å—Ç—å

```python
messages = [
    "–°”ô–ª–µ–º, “Ø–π —Å–∞–ª“ì—ã–º –∫–µ–ª–µ–¥—ñ",
    "150 —à–∞—Ä—à—ã –º–µ—Ç—Ä",
    "–ñ–∞“õ—Å—ã, –∂–∞–∑—ã“£—ã–∑. –ï—Ä–±–æ–ª, +77051234567"
]
# –û–∂–∏–¥–∞–µ—Ç—Å—è: –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∫–∞–∑–∞—Ö—Å–∫–æ–º
```

---

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–∞

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∏–ª—è –æ–±—â–µ–Ω–∏—è

–í `app/services/openai_service.py` –∏–∑–º–µ–Ω–∏—Ç–µ `SYSTEM_PROMPT`:

```python
# –ë–æ–ª–µ–µ –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π —Å—Ç–∏–ª—å
SYSTEM_PROMPT = """–¢—ã ‚Äî –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫...
–ò—Å–ø–æ–ª—å–∑—É–π —ç–º–æ–¥–∑–∏, –±—É–¥—å –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–º!"""

# –ë–æ–ª–µ–µ —Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å
SYSTEM_PROMPT = """–í—ã ‚Äî –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç...
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–µ–ª–æ–≤–æ–π —Å—Ç–∏–ª—å –æ–±—â–µ–Ω–∏—è."""

# –î—Ä—É–≥–æ–µ –∏–º—è
SYSTEM_PROMPT = """–¢—ã ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä –ê–π–≥–µ—Ä–∏–º..."""
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤

```python
SYSTEM_PROMPT = """...
–í–æ–ø—Ä–æ—Å—ã –¥–ª—è –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏:
1. –£—á–∞—Å—Ç–æ–∫
2. –ü–ª–æ—â–∞–¥—å
3. –°—Ä–æ–∫–∏
4. –ë—é–¥–∂–µ—Ç
5. –¢–∏–ø –¥–æ–º–∞ (–æ–¥–Ω–æ—ç—Ç–∞–∂–Ω—ã–π/–¥–≤—É—Ö—ç—Ç–∞–∂–Ω—ã–π)  # –ù–û–í–´–ô
6. –ú–∞—Ç–µ—Ä–∏–∞–ª—ã (–∫–∏—Ä–ø–∏—á/–∫–∞—Ä–∫–∞—Å–Ω—ã–π/–±–ª–æ–∫–∏)  # –ù–û–í–´–ô
..."""
```

---

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–∏ –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞! üöÄ**
